Metadata-Version: 2.1
Name: oncoviruses
Version: None
Summary: Detection of oncoviruses in tumor whole genome samples
Home-page: https://github.com/umccr/oncoviruses
Author: Vlad Saveliev
Author-email: vladislav.sav@gmail.com
License: GPLv3
Description: # Detection of oncoviruses in tumor whole genome samples
        
        Usage:
        
        ```
        oncoviruses tumor.bam -o results
        ```
        
        
        
        ## Creating reference data
        
        Extract unmapped and bridging reads
        
        ```
        sambamba view -f bam -F "unmapped or mate_is_unmapped" -t 28 diploid_tumor-ready.bam \
         | samtools sort -n -@ 28 > diploid_tumor.unmapped_or_mate.bam
        ```
        
        Downsample to 5% (~160G of data):
        
        ```
        samtools view -bs 42.05 diploid_tumor-unmapped_or_mate.namesorted.bam \
            -Obam -o diploid_tumor-unmapped_or_mate.namesorted.subsampled5percent.bam
        ```
        
        And extact fastq:
        
        ```
        samtools fastq diploid_tumor-unmapped_or_mate.namesorted.subsampled5percent.bam \
            -1 diploid_tumor-unmapped_or_mate.namesorted.subsampled5percent.R1.fq \
            -2 diploid_tumor-unmapped_or_mate.namesorted.subsampled5percent.R2.fq \
            -s diploid_tumor-unmapped_or_mate.namesorted.subsampled5percent.SINGLE.fq
        ```
        
        Extract human reads around the integration site:
        
        ```
        cat IS.bed
        3   186690000   186701000
        8   128300000   128323000
        sambamba slice -L IS.bed diploid_tumor-ready.bam > diploid_tumor.IS.bam
        sambamba view diploid_tumor.IS.bam -F "not unmapped" -f bam -o diploid_tumor.IS.mapped.bam
        samtools sort diploid_tumor.IS.mapped.bam -n -Obam -o diploid_tumor.IS.mapped.namesorted.bam
        samtools fastq diploid_tumor.IS.mapped.namesorted.bam \
            -1 diploid_tumor.IS.R1.fq \
            -2 diploid_tumor.IS.R2.fq \
            -s diploid_tumor.IS.SINGLE.fq
        ```
        
        Merge fastqs:
        
        ```
        cat diploid_tumor-unmapped_or_mate.namesorted.subsampled5percent.R1.fq diploid_tumor.IS.R1.fq > diploid_tumor.toy.R1.fq
        cat diploid_tumor-unmapped_or_mate.namesorted.subsampled5percent.R2.fq diploid_tumor.IS.R2.fq > diploid_tumor.toy.R2.fq
        ```
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
Platform: UNKNOWN
Classifier: Environment :: Console
Classifier: Intended Audience :: Science/Research
Classifier: License :: OSI Approved :: GNU General Public License v3 (GPLv3)
Classifier: Natural Language :: English
Classifier: Operating System :: MacOS :: MacOS X
Classifier: Operating System :: POSIX
Classifier: Operating System :: Unix
Classifier: Programming Language :: Python
Classifier: Topic :: Scientific/Engineering
Description-Content-Type: text/markdown
